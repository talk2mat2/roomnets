(this.webpackJsonpgameflow=this.webpackJsonpgameflow||[]).push([[33],{209:function(e,t,a){"use strict";a.r(t);var r=a(6),c=a(26),n=a.n(c),s=a(33),i=a(29),l=a(24),o=a(1),j=a.n(o),d=a(50),u=a(192),b=a(4),p=a(19),m=a(161),f=a(40),h=a.n(f),g=a(158),x=a.n(g),O=a(0);t.default=function(){var e=Object(b.f)(),t=j.a.useState(!1),a=Object(l.a)(t,2),c=a[0],o=a[1],f=j.a.useState([]),g=Object(l.a)(f,2),v=g[0],y=g[1],N=j.a.useState([]),w=Object(l.a)(N,2),k=w[0],A=w[1],S=Object(p.c)((function(e){return e.PostFlatReducer})),_=Object(p.c)((function(e){return e.user.currentUser})),C=_&&_.token,U=j.a.useState({advert_title:"",advert_description:""}),P=Object(l.a)(U,2),z=P[0],D=P[1];var R=function(){var e=Object(s.a)(n.a.mark((function e(){var t,a,r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=z.advert_description,a=z.advert_title,r=new Array,a||r.push("Advert title can not be blank"),t||r.push("Advert body can not be blank"),k.length<1&&r.push("You must select at least one image or more"),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(){var t=Object(s.a)(n.a.mark((function t(){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R().then(function(){var t=Object(s.a)(n.a.mark((function t(a){var c,s,i;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(a.length>0)){t.next=5;break}y(a),window.scrollTo(0,150),t.next=12;break;case 5:for(c=Object(r.a)(Object(r.a)({},S),z),(s=new FormData).append("userData",JSON.stringify(c)),i=0;i<k.length;i++)s.append("file",k[i].Uri);return o(!0),t.next=12,h()({url:"/Api/v1/PostAddApart",method:"POST",data:s,headers:{"Content-Type":"multipart/form-data",Authorization:C}}).then((function(t){o(!1),console.log(t.data),t.data.status&&e.replace("/process-apart-success")})).catch((function(e){o(!1),alert("An error has occured")}));case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(O.jsxs)("div",{children:[Object(O.jsx)(d.a,{}),Object(O.jsxs)("div",{children:[Object(O.jsx)("div",{className:"topPatch",style:{height:"80px"}}),Object(O.jsx)("div",{className:"poststep pricing my-80",children:Object(O.jsx)("div",{className:"container",children:Object(O.jsxs)("div",{className:"row justify-content-center",children:[Object(O.jsx)("div",{className:"col-lg-12 wow animated slideInUp",children:Object(O.jsxs)("div",{className:"main-title w-75 mx-auto d-table text-center mb-30",children:[Object(O.jsx)("h2",{className:"title mb-20 color-primary",children:"Advertise your House/Apartment for rent"}),Object(O.jsx)("div",{className:"row justify-content-center",children:Object(O.jsx)("div",{className:"col-lg-7 text-left",children:v.length>0?v.map((function(e){return Object(O.jsxs)("p",{className:"error-card alert-danger",children:[Object(O.jsx)(x.a,{fontSize:"small",style:{marginRight:"4px"}}),e]})})):null})})]})}),Object(O.jsx)("div",{className:"col-lg-8 myform",children:Object(O.jsx)("div",{className:"submit-property bg-light",children:Object(O.jsx)("form",{className:"property-submit-form",onSubmit:function(e){return e.preventDefault()},children:Object(O.jsx)("div",{className:"property-info mt-30 bg-white py-40 px-30",children:Object(O.jsxs)("div",{className:"row",children:[Object(O.jsxs)("div",{className:"form-group col-lg-8",children:[Object(O.jsx)("label",{children:"Advert title"}),Object(O.jsx)("input",{className:"form-control bg-gray",type:"text",name:"property-id",value:z.advert_title,onChange:function(e){return D(Object(r.a)(Object(r.a)({},z),{},{advert_title:e.target.value}))}})]}),Object(O.jsxs)("div",{className:"form-group col-lg-12",children:[Object(O.jsx)("label",{children:"Advert Description"}),Object(O.jsx)("textarea",{onChange:function(e){return D(Object(r.a)(Object(r.a)({},z),{},{advert_description:e.target.value}))},value:z.advert_description,className:"form-control bg-gray",rows:"7"})]}),Object(O.jsx)("div",{className:"row my-20",children:k.map((function(e){return Object(O.jsx)("div",{className:"col-3",style:{margin:"10px"},children:Object(O.jsx)("img",{src:e.file,alt:"preview",style:{maxHeight:"80px",display:"block",margin:"10px"}})})}))}),Object(O.jsx)("br",{}),Object(O.jsx)("div",{className:"form-group col-lg-10",children:k.length<5?Object(O.jsxs)(O.Fragment,{children:[" ",Object(O.jsx)("label",{children:"Select -Images"}),Object(O.jsxs)(u.a,{className:"btn btn-primary",variant:"contained",component:"label",children:[Object(O.jsx)("small",{style:{fontSize:"8px"},children:"Select images"}),Object(O.jsx)("input",{type:"file",hidden:!0,onChange:function(e){if("image/png"!==e.target.files[0].type&&"image/jpg"!==e.target.files[0].type&&"image/jpeg"!==e.target.files[0].type)return alert("select a valid image format");if(e.target.files[0]){A([].concat(Object(i.a)(k),[{file:URL.createObjectURL(e.target.files[0]),Uri:e.target.files[0]}]))}},accept:"image/x-png,image/jpeg"})]})]}):null}),Object(O.jsxs)("div",{className:"col-lg-12",children:[Object(O.jsx)("button",{onClick:function(){return e.goBack()},className:"btn btn-primary",children:"Back"}),Object(O.jsx)("button",{onClick:F,disabled:c,className:"btn btn-primary float-right",children:c?Object(O.jsx)(m.a,{size:13,color:"#fff"}):"Post Add"})]})]})})})})})]})})})]})]})}}}]);
//# sourceMappingURL=33.3b518f8f.chunk.js.map