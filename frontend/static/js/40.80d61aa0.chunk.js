(this.webpackJsonpgameflow=this.webpackJsonpgameflow||[]).push([[40],{191:function(e,t,a){"use strict";a.r(t);var r=a(6),c=a(26),n=a.n(c),s=a(33),i=a(29),l=a(24),o=a(1),d=a.n(o),j=a(50),u=a(192),b=a(4),m=a(19),p=a(40),f=a.n(p),h=a(161),g=a(158),x=a.n(g),O=a(0);t.default=function(){var e=Object(b.f)(),t=d.a.useState([]),a=Object(l.a)(t,2),c=a[0],o=a[1],p=d.a.useState(!1),g=Object(l.a)(p,2),v=g[0],y=g[1],N=d.a.useState([]),w=Object(l.a)(N,2),k=w[0],A=w[1],S=Object(m.c)((function(e){return e.PostRommsAddReducer})),_=Object(m.c)((function(e){return e.user.currentUser})),C=_&&_.token,R=d.a.useState({advert_title:"",advert_description:""}),U=Object(l.a)(R,2),P=U[0],z=U[1];var D=function(){var e=Object(s.a)(n.a.mark((function e(){var t,a,r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=P.advert_description,a=P.advert_title,r=new Array,a||r.push("Advert title can not be blank"),t||r.push("Advert body can not be blank"),k.length<1&&r.push("You must select at least one image or more"),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=function(){var t=Object(s.a)(n.a.mark((function t(){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D().then(function(){var t=Object(s.a)(n.a.mark((function t(a){var c,s,i;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(a.length>0)){t.next=5;break}o(a),window.scrollTo(0,150),t.next=12;break;case 5:for(c=Object(r.a)(Object(r.a)({},S),P),(s=new FormData).append("userData",JSON.stringify(c)),i=0;i<k.length;i++)s.append("file",k[i].Uri);return y(!0),t.next=12,f()({url:"/Api/v1/PostAddRoms",method:"POST",data:s,headers:{"Content-Type":"multipart/form-data",Authorization:C}}).then((function(t){console.log(t.data),y(!1),t.data.status&&e.replace("/process-rooms-success")})).catch((function(e){y(!1),alert("An error occured")}));case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(O.jsxs)("div",{children:[Object(O.jsx)(j.a,{}),Object(O.jsxs)("div",{children:[Object(O.jsx)("div",{className:"topPatch",style:{height:"80px"}}),Object(O.jsx)("div",{className:"poststep pricing my-80",children:Object(O.jsx)("div",{className:"container",children:Object(O.jsxs)("div",{className:"row justify-content-center",children:[Object(O.jsx)("div",{className:"col-lg-12 wow animated slideInUp",children:Object(O.jsxs)("div",{className:"main-title w-75 mx-auto d-table text-center mb-30",children:[Object(O.jsx)("h2",{className:"title mb-20 color-primary",children:"Advertise your room"}),Object(O.jsx)("div",{className:"row justify-content-center",children:Object(O.jsx)("div",{className:"col-lg-7 text-left",children:c.length>0?c.map((function(e){return Object(O.jsxs)("p",{className:"error-card alert-danger",children:[Object(O.jsx)(x.a,{fontSize:"small",style:{marginRight:"4px"}}),e]})})):null})})]})}),Object(O.jsx)("div",{className:"col-lg-8 myform",children:Object(O.jsx)("div",{className:"submit-property bg-light",children:Object(O.jsx)("form",{className:"property-submit-form",onSubmit:function(e){return e.preventDefault()},children:Object(O.jsxs)("div",{className:"property-info mt-30 bg-white py-40 px-30",children:[Object(O.jsx)("div",{className:"text-right",children:Object(O.jsx)("p",{children:"4 of 4"})}),Object(O.jsxs)("div",{className:"row",children:[Object(O.jsxs)("div",{className:"form-group col-lg-8",children:[Object(O.jsx)("label",{children:"Advert title"}),Object(O.jsx)("input",{className:"form-control bg-gray",type:"text",name:"property-id",value:P.advert_title,onChange:function(e){return z(Object(r.a)(Object(r.a)({},P),{},{advert_title:e.target.value}))}})]}),Object(O.jsxs)("div",{className:"form-group col-lg-12",children:[Object(O.jsx)("label",{children:"Advert Description"}),Object(O.jsx)("textarea",{onChange:function(e){return z(Object(r.a)(Object(r.a)({},P),{},{advert_description:e.target.value}))},value:P.advert_description,className:"form-control bg-gray",rows:"7"})]}),Object(O.jsx)("div",{className:"row my-20",children:k.map((function(e){return Object(O.jsx)("div",{className:"col-3",style:{margin:"10px"},children:Object(O.jsx)("img",{src:e.file,alt:"preview",style:{maxHeight:"80px",display:"block",margin:"10px"}})})}))}),Object(O.jsx)("br",{}),Object(O.jsx)("div",{className:"form-group col-lg-10",children:k.length<5?Object(O.jsxs)(O.Fragment,{children:[" ",Object(O.jsx)("label",{children:"Select -Images"}),Object(O.jsxs)(u.a,{className:"btn btn-primary",variant:"contained",component:"label",children:[Object(O.jsx)("small",{style:{fontSize:"8px"},children:"Select images"}),Object(O.jsx)("input",{type:"file",hidden:!0,onChange:function(e){if("image/png"!==e.target.files[0].type&&"image/jpg"!==e.target.files[0].type&&"image/jpeg"!==e.target.files[0].type)return alert("select a valid image format");if(e.target.files[0]){A([].concat(Object(i.a)(k),[{file:URL.createObjectURL(e.target.files[0]),Uri:e.target.files[0]}]))}},accept:"image/x-png,image/jpeg"})]})]}):null}),Object(O.jsxs)("div",{className:"col-lg-12",children:[Object(O.jsx)("button",{onClick:function(){return e.goBack()},className:"btn btn-primary",children:"Back"}),Object(O.jsx)("button",{onClick:J,disabled:v,className:"btn btn-primary float-right",children:v?Object(O.jsx)(h.a,{size:13,color:"#fff"}):"Post Add"})]})]})]})})})})]})})})]})]})}}}]);
//# sourceMappingURL=40.80d61aa0.chunk.js.map