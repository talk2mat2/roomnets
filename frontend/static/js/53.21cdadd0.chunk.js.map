{"version":3,"sources":["components/pages/editprofile.jsx"],"names":["EDITSpROFILE","useHistory","dispatch","useDispatch","React","useState","loading","setLoading","currentUser","useSelector","user","file","Uri","ImageState","setImageState","faq","Banners","mobileNumber","Email","lastName","firstName","imgUrl","formReponse","setFomreponse","updateMyProfile","a","image","formData","FormData","append","JSON","stringify","axios","post","headers","Authorization","token","then","response","console","log","data","SYNCUSERDATA","userData","alert","catch","err","useEffect","className","style","height","src","alt","objectFit","fontSize","fontWeight","component","type","hidden","onChange","event","URL","createObjectURL","target","files","accept","value","e","disabled","onClick"],"mappings":"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","file":"static/js/53.21cdadd0.chunk.js","sourcesContent":["import React from \"react\";\r\nimport Header from \"../Header\";\r\nimport { useHistory, Link } from \"react-router-dom\";\r\n\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { SYNCUSERDATA } from \"../../redux/action\";\r\n\r\nimport axios from \"axios\";\r\nimport Footer from \"../footer\";\r\n\r\nconst EDITSpROFILE = () => {\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n  const [loading, setLoading] = React.useState(false);\r\n\r\n  const currentUser = useSelector(({ user }) => user.currentUser);\r\n\r\n  const [ImageState, setImageState] = React.useState({ file: null, Uri: null });\r\n\r\n  const [homepageData, setHomePageData] = React.useState({\r\n    faq: [],\r\n    Banners: [],\r\n  });\r\n  const [formReponse, setFomreponse] = React.useState({\r\n    mobileNumber: \"\",\r\n    Email: \"\",\r\n    lastName: \"\",\r\n    firstName: \"\",\r\n    imgUrl: \"\",\r\n  });\r\n  function handleChange(event) {\r\n    setImageState({\r\n      file: URL.createObjectURL(event.target.files[0]),\r\n      Uri: event.target.files[0],\r\n    });\r\n  }\r\n  const updateMyProfile = async () => {\r\n    const image = ImageState.Uri;\r\n\r\n    var formData = new FormData();\r\n    image &&\r\n      formData.append(\r\n        \"file\",\r\n        image\r\n      );\r\n      formData.append('formReponse',JSON.stringify(formReponse))\r\n    setLoading(true);\r\n    return await axios\r\n      .post(`/api/v1/updateMyProfile`, formData, {\r\n        headers: {\r\n          \"Content-Type\": \"multipart/form-data\",\r\n          Authorization: token,\r\n        },\r\n      })\r\n      .then((response) => {\r\n        setLoading(false);\r\n        console.log(response.data);\r\n\r\n        dispatch(SYNCUSERDATA(response.data.userData));\r\n        alert(\"your profile was updated\");\r\n      })\r\n      .catch((err) => {\r\n        setLoading(false);\r\n        console.log(err);\r\n      });\r\n  };\r\n  const token = currentUser && currentUser.token;\r\n  React.useEffect(() => {\r\n    setFomreponse({ ...formReponse, ...currentUser.user });\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <Header />\r\n      <div>\r\n        <div className=\"topPatch\" style={{ height: \"80px\" }} />\r\n        <div className=\"poststep pricing my-80\">\r\n          <div className=\"container\">\r\n            {/* <h3 className=\"color-secondary line-bottom pb-15 mb-20\">\r\n              Privacy Policy\r\n            </h3> */}\r\n\r\n            <span className=\"small-title color-primary position-relative line-primary\">\r\n              Edit My Profile\r\n            </span>\r\n\r\n            <div className=\"col-lg-12 border-top-1-gray py-30 wow slideInRight animated\">\r\n              <h3 className=\"color-secondary line-bottom pb-15 mb-20\">\r\n                My Details\r\n              </h3>\r\n              <div className=\"row  justify-content-around align-items-center\">\r\n                <div className=\"  avataer-edit\">\r\n                  {ImageState.file || formReponse.imgUrl ? (\r\n                    <img\r\n                      height=\"180%\"\r\n                      src={ImageState.file || formReponse.imgUrl}\r\n                      alt=\"\"\r\n                      style={{ objectFit: \"contain\" }}\r\n                    />\r\n                  ) : null}\r\n                  <label\r\n                    style={{ fontSize: 30, fontWeight: \"bold\" }}\r\n                    component=\"label\"\r\n                  >\r\n                    +\r\n                    <input\r\n                      type=\"file\"\r\n                      hidden\r\n                      onChange={handleChange}\r\n                      accept=\"image/png, image/gif, image/jpeg\"\r\n                    />\r\n                  </label>\r\n                </div>\r\n                <div className=\"col-md-8 col-lg-8\">\r\n                  <ul className=\"\">\r\n                    <li>\r\n                      First Name:{\" \"}\r\n                      <span>\r\n                        <input\r\n                          value={formReponse.firstName}\r\n                          onChange={(e) =>\r\n                            setFomreponse({\r\n                              ...formReponse,\r\n                              firstName: e.target.value,\r\n                            })\r\n                          }\r\n                          className=\"form-control bg-gray\"\r\n                          type=\"text\"\r\n                        />\r\n                      </span>\r\n                    </li>\r\n                    <li>\r\n                      Last Name :{\" \"}\r\n                      <span>\r\n                        <input\r\n                          value={formReponse.lastName}\r\n                          onChange={(e) =>\r\n                            setFomreponse({\r\n                              ...formReponse,\r\n                              lastName: e.target.value,\r\n                            })\r\n                          }\r\n                          className=\"form-control bg-gray\"\r\n                          type=\"text\"\r\n                        />\r\n                      </span>\r\n                    </li>\r\n                    <li>\r\n                      Email:\r\n                      <span>\r\n                        <input\r\n                          disabled={true}\r\n                          value={formReponse.Email}\r\n                          className=\"form-control bg-gray\"\r\n                          type=\"text\"\r\n                        />\r\n                      </span>\r\n                    </li>\r\n                    <li>\r\n                      Mobile Number :{\" \"}\r\n                      <span>\r\n                        <input\r\n                          onChange={(e) =>\r\n                            setFomreponse({\r\n                              ...formReponse,\r\n                              mobileNumber: e.target.value,\r\n                            })\r\n                          }\r\n                          value={formReponse.mobileNumber}\r\n                          className=\"form-control bg-gray\"\r\n                          type=\"number\"\r\n                        />\r\n                      </span>\r\n                    </li>\r\n\r\n                    {/* <li>\r\n                          My Post :{\" \"}\r\n                          <a href=\"/\">\r\n                            <span>View</span>\r\n                          </a>\r\n                        </li> */}\r\n                  </ul>\r\n                </div>\r\n                <div className=\"col-lg-4 mt-40\">\r\n                  <button\r\n                    onClick={updateMyProfile}\r\n                    className=\"btn btn-primary upgrade-btn\"\r\n                  >\r\n                    {loading ? \"updating..\" : \"send\"}\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <Footer />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EDITSpROFILE;\r\n"],"sourceRoot":""}